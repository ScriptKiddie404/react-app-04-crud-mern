// ======================================================================= //
// ============================ DB IMPORTS =============================== //
// ======================================================================= //
require('./db/mongoose');
// ======================================================================= //


// ======================================================================= //
// ============================ EXPRESS SETUP ============================ //
// ======================================================================= //
const cors = require('cors');
const express = require('express');
const app = express();
const morgan = require('morgan');
const port = process.env.PORT || 4000;
// ======================================================================= //


// ======================================================================= //
// =============================== MIDDLEWARE ============================ //
// ======================================================================= //
const TaskRouter = require('./routers/taskRouter');
//General:
app.use(cors());
app.use(express.json());
app.use(express.urlencoded({ extended: true }));
app.use(morgan('tiny'));
//Routers:
app.use(TaskRouter);
// ======================================================================= //


// =========================== RUN SERVER ================================ //
app.listen(port, () => console.log("Listening on port:", port));